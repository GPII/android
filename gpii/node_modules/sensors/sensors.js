/*!
GPII Android Sensors

Copyright 2013 Emergya

Licensed under the New BSD license. You may not use this file except in
compliance with this License.

You may obtain a copy of the License at
https://github.com/gpii/universal/LICENSE.txt
*/

// Currently we need to do this in order to work correctly with
// Anode's JS bridge
var thatall = this;

(function () {
    "use strict";

    var fluid = require("universal");
    var gpii = fluid.registerNamespace("gpii");

    var bridge = require("bridge");

    fluid.registerNamespace("gpii.androidSensors");

    fluid.defaults("gpii.androidSensors.getSensors", {
        gradeNames: "fluid.function"
    });

    gpii.androidSensors.getSensors = function() {
        var androidSensors = bridge.load("net.gpii.AndroidSensorsImpl", thatall);

        // TODO: Provide the full list of available sensors
        // and some useful info about them, ie:
        // [{
        //     id: xyz,
        //     name: getName,
        //     type: getType,
        //     maxRange: getMaximumRange,
        //     minDelay: getMinDelay,
        //     maxDelay: getMaxDelay,
        //     resolution: getResolution,
        //     version: getVerÂºsion,
        //     vendor: getVendor,
        //     power: getPower
        // }]

        var sensors = androidSensors.listSensors();
        return sensors;
    };

})();
